<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Procedural texturing # Una textura procedural es una textura creada utilizando una descripción matemática (es decir, un algoritmo) en lugar de datos almacenados directamente. La ventaja de este enfoque es el bajo costo de almacenamiento, la resolución ilimitada de texturas y el fácil mapeo de texturas. Este tipo de texturas se utilizan a menudo para modelar superficies o representaciones volumétricas de elementos naturales como madera, mármol, granito, metal, piedra y otros."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Procedural texturing # Una textura procedural es una textura creada utilizando una descripción matemática (es decir, un algoritmo) en lugar de datos almacenados directamente. La ventaja de este enfoque es el bajo costo de almacenamiento, la resolución ilimitada de texturas y el fácil mapeo de texturas. Este tipo de texturas se utilizan a menudo para modelar superficies o representaciones volumétricas de elementos naturales como madera, mármol, granito, metal, piedra y otros."><meta property="og:type" content="article"><meta property="og:url" content="https://jsalasm.github.io/VisualComputing2022_2/docs/workshop-3/4.-Procedural-Texturing/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-11-27T21:05:30-05:00"><title>4. Procedural Texturing | Showcase Template</title><link rel=manifest href=/VisualComputing2022_2/manifest.json><link rel=icon href=/VisualComputing2022_2/favicon.png type=image/x-icon><link rel=stylesheet href=/VisualComputing2022_2/book.min.ab46de3e725a6415339a37bba23a0067534a37289b063c9f8d011515a63097a8.css integrity="sha256-q0bePnJaZBUzmje7ojoAZ1NKNyibBjyfjQEVFaYwl6g=" crossorigin=anonymous><script defer src=/VisualComputing2022_2/flexsearch.min.js></script>
<script defer src=/VisualComputing2022_2/en.search.min.d9b8de5e8c00e87d034f476bb66e88a601bac04b3f0535428dab878f227fe07d.js integrity="sha256-2bjeXowA6H0DT0drtm6IpgG6wEs/BTVCjauHjyJ/4H0=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/VisualComputing2022_2/><span>Showcase Template</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/VisualComputing2022_2/docs/authors/>Authors</a></li><li><a href=/VisualComputing2022_2/docs/logs/>Logs</a></li><li><input type=checkbox id=section-cb5166b5972776a786c8f0abb960e1df class=toggle>
<label for=section-cb5166b5972776a786c8f0abb960e1df class="flex justify-between"><a role=button>Workshop 1</a></label><ul><li><a href=/VisualComputing2022_2/docs/workshop-1/Illusions/>Illusions</a></li><li><a href=/VisualComputing2022_2/docs/workshop-1/masking/>Masking</a></li></ul></li><li><input type=checkbox id=section-b3489b1dba5179c28e00fd119bd3b043 class=toggle>
<label for=section-b3489b1dba5179c28e00fd119bd3b043 class="flex justify-between"><a role=button>Workshop 2</a></label><ul><li><a href=/VisualComputing2022_2/docs/workshop-2/ames_window/>Ames Window</a></li><li><a href=/VisualComputing2022_2/docs/workshop-2/color-shading/>Color Shading</a></li><li><input type=checkbox id=section-d454431037e3917925119827f2181f03 class=toggle>
<label for=section-d454431037e3917925119827f2181f03 class="flex justify-between"><a role=button>Terrain and Waves</a></label><ul><li><a href=/VisualComputing2022_2/docs/workshop-2/terrain-and-waves/first-wave/>First Wave</a></li><li><a href=/VisualComputing2022_2/docs/workshop-2/terrain-and-waves/second-wave/>Second Wave</a></li><li><a href=/VisualComputing2022_2/docs/workshop-2/terrain-and-waves/terrain/>Terrain</a></li></ul></li></ul></li><li><input type=checkbox id=section-3c4185de2aea1fe13650a7c00ebf7f0d class=toggle checked>
<label for=section-3c4185de2aea1fe13650a7c00ebf7f0d class="flex justify-between"><a href=/VisualComputing2022_2/docs/workshop-3/>Workshop 3</a></label><ul><li><a href=/VisualComputing2022_2/docs/workshop-3/1.-Coloring/>1. Coloring</a></li><li><a href=/VisualComputing2022_2/docs/workshop-3/2.-Texturing/>2. Texturing</a></li><li><a href=/VisualComputing2022_2/docs/workshop-3/3.-Image-processing/>3. Image Processing</a></li><li><a href=/VisualComputing2022_2/docs/workshop-3/4.-Procedural-Texturing/ class=active>4. Procedural Texturing</a></li><li><a href=/VisualComputing2022_2/docs/workshop-3/5.-Non-Euclidean-Geometry/>5. Non Euclidean Geometry</a></li><li><a href=/VisualComputing2022_2/docs/workshop-3/6.-Ripple-Effect/>6. Ripple Effect</a></li><li><a href=/VisualComputing2022_2/docs/workshop-3/Bonus.-Surface-Texture-Animation/>Bonus. Surface Texture Animation</a></li></ul></li></ul><ul><li><a href=/VisualComputing2022_2/posts/>Blog</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/VisualComputing2022_2/svg/menu.svg class=book-icon alt=Menu></label>
<strong>4. Procedural Texturing</strong>
<label for=toc-control><img src=/VisualComputing2022_2/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><ul><li><a href=#procedural-texturing>Procedural texturing</a></li><li><a href=#esfera-con-textura-cambiante>Esfera con textura cambiante</a></li></ul></li></ul></nav></aside></header><article class=markdown><h2 id=procedural-texturing>Procedural texturing
<a class=anchor href=#procedural-texturing>#</a></h2><p>Una textura procedural es una textura creada utilizando una descripción matemática (es decir, un algoritmo) en lugar de datos almacenados directamente. La ventaja de este enfoque es el bajo costo de almacenamiento, la resolución ilimitada de texturas y el fácil mapeo de texturas. Este tipo de texturas se utilizan a menudo para modelar superficies o representaciones volumétricas de elementos naturales como madera, mármol, granito, metal, piedra y otros.</p><p>Por lo general, el aspecto natural del resultado renderizado se logra mediante el uso de funciones de turbulencia y ruido fractal. Estas funciones se utilizan como una representación numérica de la &ldquo;aleatoriedad&rdquo; que se encuentra en la naturaleza.</p><iframe id=truchet_tiles style=width:425px;height:425px;padding:0;border:none;background-color:#343a40;background:#343a40 srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/addons/p5.sound.min.js></script>
             <script src=/VisualComputing2022_2/sketches/libraries/p5.treegl.js></script> 
             <script src=/VisualComputing2022_2/sketches/libraries/p5.easycam.js></script> 
            
            
            
            <script src=/VisualComputing2022_2/sketches/Taller3/Procedural/truchet_tiles.js></script>
          </head>
          <style>
            body {
              background-color: #343a40;
            }
            </style>
          <body >
          </body>
        </html>
        " scrolling=no></iframe><p><details><summary>truchet_tiles.js</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>pg</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>truchetShader</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>truchetShader</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>readShader</span>(<span style=color:#e6db74>&#39;/VisualComputing2022_2/sketches/Taller3/Procedural/truchet.frag&#39;</span>,
</span></span><span style=display:flex><span>                             { <span style=color:#a6e22e>matrices</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>NONE</span>, <span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>NONE</span> });
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>400</span>, <span style=color:#ae81ff>400</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pg</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createGraphics</span>(<span style=color:#ae81ff>400</span>, <span style=color:#ae81ff>400</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textureMode</span>(<span style=color:#a6e22e>NORMAL</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pg</span>.<span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pg</span>.<span style=color:#a6e22e>textureMode</span>(<span style=color:#a6e22e>NORMAL</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pg</span>.<span style=color:#a6e22e>shader</span>(<span style=color:#a6e22e>truchetShader</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pg</span>.<span style=color:#a6e22e>emitResolution</span>(<span style=color:#a6e22e>truchetShader</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>truchetShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;u_zoom&#39;</span>, <span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pg</span>.<span style=color:#a6e22e>quad</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>pg</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>33</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>orbitControl</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cylinder</span>(<span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>200</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>mouseMoved</span>() {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// https://p5js.org/reference/#/p5.Shader/setUniform
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>truchetShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;u_zoom&#39;</span>, <span style=color:#66d9ef>int</span>(<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>mouseX</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>width</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>30</span>)));
</span></span><span style=display:flex><span>  <span style=color:#75715e>// pg clip-space quad (i.e., both x and y vertex coordinates ∈ [-1..1])
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>pg</span>.<span style=color:#a6e22e>quad</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details><details><summary>truchet.frag</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#75715e>// Author @patriciogv ( patriciogonzalezvivo.com ) - 2015
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>ifdef</span> <span style=color:#a6e22e>GL_ES</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>precision</span> <span style=color:#a6e22e>mediump</span> <span style=color:#66d9ef>float</span>;
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>endif</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>define</span> <span style=color:#a6e22e>PI</span> <span style=color:#ae81ff>3.14159265358979323846</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>u_resolution</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>u_time</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>u_zoom</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>rotate2D</span> (<span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>_st</span>, <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>_angle</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>_st</span> <span style=color:#f92672>-=</span> <span style=color:#ae81ff>0.5</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>_st</span> <span style=color:#f92672>=</span>  <span style=color:#a6e22e>mat2</span>(<span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>_angle</span>),<span style=color:#f92672>-</span><span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>_angle</span>),
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>_angle</span>),<span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>_angle</span>)) <span style=color:#f92672>*</span> <span style=color:#a6e22e>_st</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>_st</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>0.5</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>_st</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>tile</span> (<span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>_st</span>, <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>_zoom</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>_st</span> <span style=color:#f92672>*=</span> <span style=color:#a6e22e>_zoom</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>fract</span>(<span style=color:#a6e22e>_st</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>rotateTilePattern</span>(<span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>_st</span>){
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>//  Scale the coordinate system by 2x2
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>_st</span> <span style=color:#f92672>*=</span> <span style=color:#ae81ff>2.0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>//  Give each cell an index number
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>//  according to its position
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>index</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.0</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>index</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>step</span>(<span style=color:#ae81ff>1.</span>, <span style=color:#a6e22e>mod</span>(<span style=color:#a6e22e>_st</span>.<span style=color:#a6e22e>x</span>,<span style=color:#ae81ff>2.0</span>));
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>index</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>step</span>(<span style=color:#ae81ff>1.</span>, <span style=color:#a6e22e>mod</span>(<span style=color:#a6e22e>_st</span>.<span style=color:#a6e22e>y</span>,<span style=color:#ae81ff>2.0</span>))<span style=color:#f92672>*</span><span style=color:#ae81ff>2.0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>//      |
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>//  2   |   3
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>//      |
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>//--------------
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>//      |
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>//  0   |   1
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>//      |
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Make each cell between 0.0 - 1.0
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>_st</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>fract</span>(<span style=color:#a6e22e>_st</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Rotate each cell according to the index
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>index</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1.0</span>){
</span></span><span style=display:flex><span>        <span style=color:#75715e>//  Rotate cell 1 by 90 degrees
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>_st</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>rotate2D</span>(<span style=color:#a6e22e>_st</span>,<span style=color:#a6e22e>PI</span><span style=color:#f92672>*</span><span style=color:#ae81ff>0.5</span>);
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>index</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>2.0</span>){
</span></span><span style=display:flex><span>        <span style=color:#75715e>//  Rotate cell 2 by -90 degrees
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>_st</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>rotate2D</span>(<span style=color:#a6e22e>_st</span>,<span style=color:#a6e22e>PI</span><span style=color:#f92672>*-</span><span style=color:#ae81ff>0.5</span>);
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>index</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>3.0</span>){
</span></span><span style=display:flex><span>        <span style=color:#75715e>//  Rotate cell 3 by 180 degrees
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>_st</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>rotate2D</span>(<span style=color:#a6e22e>_st</span>,<span style=color:#a6e22e>PI</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>_st</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span> (<span style=color:#66d9ef>void</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>st</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>gl_FragCoord</span>.<span style=color:#a6e22e>xy</span><span style=color:#f92672>/</span><span style=color:#a6e22e>u_resolution</span>.<span style=color:#a6e22e>xy</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>st</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>tile</span>(<span style=color:#a6e22e>st</span>,<span style=color:#a6e22e>u_zoom</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>st</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>rotateTilePattern</span>(<span style=color:#a6e22e>st</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Make more interesting combinations
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// st = tile(st,2.0);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// st = rotate2D(st,-PI*u_time*0.25);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// st = rotateTilePattern(st*2.);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// st = rotate2D(st,PI*u_time*0.25);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// step(st.x,st.y) just makes a b&amp;w triangles
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// but you can use whatever design you want.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>gl_FragColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec4</span>(<span style=color:#a6e22e>vec3</span>(<span style=color:#a6e22e>step</span>(<span style=color:#a6e22e>st</span>.<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>st</span>.<span style=color:#a6e22e>y</span>)),<span style=color:#ae81ff>1.0</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details></p><h2 id=esfera-con-textura-cambiante>Esfera con textura cambiante
<a class=anchor href=#esfera-con-textura-cambiante>#</a></h2><iframe id=grill_sphere style=width:750px;height:500px;padding:0;border:none;background-color:#343a40;background:#343a40 srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/addons/p5.sound.min.js></script>
             <script src=/VisualComputing2022_2/sketches/libraries/p5.treegl.js></script> 
             <script src=/VisualComputing2022_2/sketches/libraries/p5.easycam.js></script> 
            
            
            
            <script src=/VisualComputing2022_2/sketches/Taller3/Procedural/grill_sphere.js></script>
          </head>
          <style>
            body {
              background-color: #343a40;
            }
            </style>
          <body >
          </body>
        </html>
        " scrolling=no></iframe><p><details><summary>grill_sphere.js</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>theShader</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>shaderTexture</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>theta</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>x</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>y</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>outsideRadius</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>200</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>insideRadius</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>(){
</span></span><span style=display:flex><span>  <span style=color:#75715e>// load the shader
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>theShader</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadShader</span>(<span style=color:#e6db74>&#39;/VisualComputing2022_2/sketches/Taller3/Procedural/grill.vert&#39;</span>,<span style=color:#e6db74>&#39;/VisualComputing2022_2/sketches/Taller3/Procedural/grill.frag&#39;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// disables scaling for retina screens which can create inconsistent scaling between displays
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>//pixelDensity(1);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// shaders require WEBGL mode to work
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>710</span>, <span style=color:#ae81ff>400</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// initialize the createGraphics layers
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>shaderTexture</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createGraphics</span>(<span style=color:#ae81ff>710</span>, <span style=color:#ae81ff>400</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// turn off the createGraphics layers stroke
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>shaderTexture</span>.<span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>50</span>;
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// instead of just setting the active shader we are passing it to the createGraphics layer
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>shaderTexture</span>.<span style=color:#a6e22e>shader</span>(<span style=color:#a6e22e>theShader</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// here we&#39;re using setUniform() to send our uniform values to the shader
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>theShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#34;resolution&#34;</span>, [<span style=color:#a6e22e>width</span>, <span style=color:#a6e22e>height</span>]);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>theShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#34;time&#34;</span>, <span style=color:#a6e22e>millis</span>() <span style=color:#f92672>/</span> <span style=color:#ae81ff>1000.0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>theShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#34;mouse&#34;</span>, [<span style=color:#a6e22e>mouseX</span>, <span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>mouseY</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>height</span>, <span style=color:#a6e22e>height</span>, <span style=color:#ae81ff>0</span>)]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// passing the shaderTexture layer geometry to render on
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>shaderTexture</span>.<span style=color:#a6e22e>rect</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>width</span>,<span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>//pass the shader as a texture
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>shaderTexture</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>translate</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>150</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateZ</span>(<span style=color:#a6e22e>theta</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>mouseX</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.0001</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateX</span>(<span style=color:#a6e22e>theta</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>mouseX</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.0001</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateY</span>(<span style=color:#a6e22e>theta</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>mouseX</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.0001</span>);  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>theta</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>0.05</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sphere</span>(<span style=color:#ae81ff>125</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>/* when you put a texture or shader on an ellipse it is rendered in 3d,
</span></span></span><span style=display:flex><span><span style=color:#75715e>     so a fifth parameter that controls the # vertices in it becomes necessary,
</span></span></span><span style=display:flex><span><span style=color:#75715e>     or else you&#39;ll have sharp corners. setting it to 100 is smooth. */</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>ellipseFidelity</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>int</span>(<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>mouseX</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>width</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>100</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ellipse</span>(<span style=color:#ae81ff>260</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>200</span>, <span style=color:#ae81ff>200</span>, <span style=color:#a6e22e>ellipseFidelity</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details><details><summary>grill.frag</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>ifdef</span> <span style=color:#a6e22e>GL_ES</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>precision</span> <span style=color:#a6e22e>mediump</span> <span style=color:#66d9ef>float</span>;
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>endif</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>define</span> <span style=color:#a6e22e>PI</span> <span style=color:#ae81ff>3.14159265358979323846</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>resolution</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>time</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>mouse</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>rotate2D</span> (<span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>_st</span>, <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>_angle</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>_st</span> <span style=color:#f92672>-=</span> <span style=color:#ae81ff>0.5</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>_st</span> <span style=color:#f92672>=</span>  <span style=color:#a6e22e>mat2</span>(<span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>_angle</span>),<span style=color:#f92672>-</span><span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>_angle</span>),
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>_angle</span>),<span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>_angle</span>)) <span style=color:#f92672>*</span> <span style=color:#a6e22e>_st</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>_st</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>0.5</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>_st</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>tile</span> (<span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>_st</span>, <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>_zoom</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>_st</span> <span style=color:#f92672>*=</span> <span style=color:#a6e22e>_zoom</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>fract</span>(<span style=color:#a6e22e>_st</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>rotateTilePattern</span>(<span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>_st</span>){
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>//  Scale the coordinate system by 2x2
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>_st</span> <span style=color:#f92672>*=</span> <span style=color:#ae81ff>2.0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>//  Give each cell an index number
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>//  according to its position
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>index</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.0</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>index</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>step</span>(<span style=color:#ae81ff>1.</span>, <span style=color:#a6e22e>mod</span>(<span style=color:#a6e22e>_st</span>.<span style=color:#a6e22e>x</span>,<span style=color:#ae81ff>2.0</span>));
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>index</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>step</span>(<span style=color:#ae81ff>1.</span>, <span style=color:#a6e22e>mod</span>(<span style=color:#a6e22e>_st</span>.<span style=color:#a6e22e>y</span>,<span style=color:#ae81ff>2.0</span>))<span style=color:#f92672>*</span><span style=color:#ae81ff>2.0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>//      |
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>//  2   |   3
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>//      |
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>//--------------
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>//      |
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>//  0   |   1
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>//      |
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Make each cell between 0.0 - 1.0
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>_st</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>fract</span>(<span style=color:#a6e22e>_st</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Rotate each cell according to the index
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>index</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1.0</span>){
</span></span><span style=display:flex><span>        <span style=color:#75715e>//  Rotate cell 1 by 90 degrees
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>_st</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>rotate2D</span>(<span style=color:#a6e22e>_st</span>,<span style=color:#a6e22e>PI</span><span style=color:#f92672>*</span><span style=color:#ae81ff>0.5</span>);
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>index</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>2.0</span>){
</span></span><span style=display:flex><span>        <span style=color:#75715e>//  Rotate cell 2 by -90 degrees
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>_st</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>rotate2D</span>(<span style=color:#a6e22e>_st</span>,<span style=color:#a6e22e>PI</span><span style=color:#f92672>*-</span><span style=color:#ae81ff>0.5</span>);
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>index</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>3.0</span>){
</span></span><span style=display:flex><span>        <span style=color:#75715e>//  Rotate cell 3 by 180 degrees
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>_st</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>rotate2D</span>(<span style=color:#a6e22e>_st</span>,<span style=color:#a6e22e>PI</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>_st</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>float</span> <span style=color:#a6e22e>concentricCircles</span>(<span style=color:#66d9ef>in</span> <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>st</span>, <span style=color:#66d9ef>in</span> <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>radius</span>, <span style=color:#66d9ef>in</span> <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>res</span>, <span style=color:#66d9ef>in</span> <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>scale</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>dist</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>distance</span>(<span style=color:#a6e22e>st</span>,<span style=color:#a6e22e>radius</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>pct</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>floor</span>(<span style=color:#a6e22e>dist</span><span style=color:#f92672>*</span><span style=color:#a6e22e>res</span>)<span style=color:#f92672>/</span><span style=color:#a6e22e>scale</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>pct</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span> (<span style=color:#66d9ef>void</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>st</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>gl_FragCoord</span>.<span style=color:#a6e22e>xy</span><span style=color:#f92672>/</span><span style=color:#a6e22e>resolution</span>.<span style=color:#a6e22e>xy</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>mst</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>gl_FragCoord</span>.<span style=color:#a6e22e>xy</span><span style=color:#f92672>/</span><span style=color:#a6e22e>mouse</span>.<span style=color:#a6e22e>xy</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>mdist</span><span style=color:#f92672>=</span> <span style=color:#a6e22e>distance</span>(<span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>1.0</span>,<span style=color:#ae81ff>1.0</span>), <span style=color:#a6e22e>mst</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>dist</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>distance</span>(<span style=color:#a6e22e>st</span>,<span style=color:#a6e22e>vec2</span>(<span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>time</span><span style=color:#f92672>/</span><span style=color:#ae81ff>10.0</span>),<span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>time</span><span style=color:#f92672>/</span><span style=color:#ae81ff>10.0</span>)));
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>st</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>tile</span>(<span style=color:#a6e22e>st</span>,<span style=color:#ae81ff>10.0</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>st</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>rotate2D</span>(<span style=color:#a6e22e>st</span>,<span style=color:#a6e22e>dist</span><span style=color:#f92672>/</span>(<span style=color:#a6e22e>mdist</span><span style=color:#f92672>/</span><span style=color:#ae81ff>5.0</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>PI</span><span style=color:#f92672>*</span><span style=color:#ae81ff>2.0</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>gl_FragColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec4</span>(<span style=color:#a6e22e>vec3</span>(<span style=color:#a6e22e>concentricCircles</span>(<span style=color:#a6e22e>st</span>, <span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>0.0</span>,<span style=color:#ae81ff>0.0</span>), <span style=color:#ae81ff>5.0</span>, <span style=color:#ae81ff>5.0</span>),<span style=color:#a6e22e>concentricCircles</span>(<span style=color:#a6e22e>st</span>, <span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>0.0</span>,<span style=color:#ae81ff>0.0</span>), <span style=color:#ae81ff>10.0</span>, <span style=color:#ae81ff>10.0</span>),<span style=color:#a6e22e>concentricCircles</span>(<span style=color:#a6e22e>st</span>, <span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>0.0</span>,<span style=color:#ae81ff>0.0</span>), <span style=color:#ae81ff>20.0</span>, <span style=color:#ae81ff>10.0</span>)),<span style=color:#ae81ff>1.0</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/Jsalasm/VisualComputing2022_2//commit/47586b78e6db529a015de048e5a2ca0757b43c07 title='Last modified by ccontrerasc | November 28, 2022' target=_blank rel=noopener><img src=/VisualComputing2022_2/svg/calendar.svg class=book-icon alt=Calendar>
<span>November 28, 2022</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#procedural-texturing>Procedural texturing</a></li><li><a href=#esfera-con-textura-cambiante>Esfera con textura cambiante</a></li></ul></li></ul></nav></div></aside></main></body></html>